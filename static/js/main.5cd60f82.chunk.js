(this["webpackJsonpreact-hw-04-hooks-images"]=this["webpackJsonpreact-hw-04-hooks-images"]||[]).push([[0],{10:function(e,t,n){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__1p3im",image:"ImageGalleryItem_image__2zNB8"}},11:function(e,t,n){e.exports={Overlay:"Modal_Overlay__2H34d",Modal:"Modal_Modal__3OQqE"}},14:function(e,t,n){e.exports={ImageGallery:"ImageGallery_ImageGallery__kT81H"}},15:function(e,t,n){e.exports={Button:"Button_Button__306Uw"}},16:function(e,t,n){},45:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n.n(a),r=n(4),o=n.n(r),s=n(12),i=n(3),l=n(8),u=n(13),b=n.n(u),j=n(5),m=n.n(j),h=n(1);function O(e){var t=e.onSubmit,n=Object(a.useState)(""),c=Object(i.a)(n,2),r=c[0],o=c[1];return Object(h.jsx)("header",{className:m.a.Searchbar,children:Object(h.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==r.trim()?(t(r),o("")):l.b.error("No value for request!")},className:m.a.SearchForm,children:[Object(h.jsx)("button",{type:"submit",className:m.a.button,children:Object(h.jsx)("span",{className:m.a.label,children:"Search"})}),Object(h.jsx)("input",{className:m.a.input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:r,onChange:function(e){o(e.currentTarget.value.toLowerCase())}})]})})}var d=n(10),f=n.n(d),p=function(e){var t=e.webformatURL,n=e.tags,a=e.onOpen;return Object(h.jsx)("li",{className:f.a.ImageGalleryItem,onClick:a,children:Object(h.jsx)("img",{src:t,alt:n,className:f.a.image})})},g=n(14),x=n.n(g),_=function(e){var t=e.hits,n=e.onOpen;return Object(h.jsx)("ul",{className:x.a.ImageGallery,children:t.map((function(e){var t=e.id,a=e.webformatURL,c=e.tags,r=e.largeImageURL;return Object(h.jsx)(p,{webformatURL:a,tags:c,onOpen:function(){return n(r,c)}},t)}))})},v=n(15),S=n.n(v),y=function(e){var t=e.onClick;return Object(h.jsx)("button",{type:"button",className:S.a.Button,onClick:t,children:"Load more"})},w=n(11),I=n.n(w),k=document.querySelector("#modal-root");function N(e){var t=e.image,n=e.onClose;Object(a.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&n()};return Object(r.createPortal)(Object(h.jsx)("div",{className:I.a.Overlay,onClick:function(e){e.currentTarget===e.target&&n()},children:Object(h.jsx)("div",{className:I.a.Modal,children:Object(h.jsx)("img",{src:t.src,alt:t.alt})})}),k)}var C={fetchImg:function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=21789669-964dbbf22655e629fd0e73135&image_type=photo&orientation=horizontal&per_page=12")).then((function(e){return e.ok?e.json():Promise.reject(new Error("\u041d\u0438\u0447\u0435\u0433\u043e \u043d\u0435 \u043d\u0430\u0439\u0434\u0435\u043d\u043e"))})).then((function(e){return e.hits}))}};n(42),n(43);function E(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(1),o=Object(i.a)(r,2),u=o[0],j=o[1],m=Object(a.useState)([]),d=Object(i.a)(m,2),f=d[0],p=d[1],g=Object(a.useState)(null),x=Object(i.a)(g,2),v=x[0],S=x[1],w=Object(a.useState)("idle"),I=Object(i.a)(w,2),k=I[0],E=I[1],G=Object(a.useState)(!1),F=Object(i.a)(G,2),L=F[0],B=F[1],M=Object(a.useState)(null),T=Object(i.a)(M,2),U=T[0],q=T[1];Object(a.useEffect)((function(){n&&(E("pending"),C.fetchImg(n,u).then((function(e){p((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e))})),E("resolved"),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){S(e),E("rejected")})).finally((function(){return E("resolved")})))}),[n,u]);var R=function(e){z(),c(e)},z=function(){j(1),p([]),S(null)},D=function(e,t){B(!0),q({src:e,alt:t})};return"idle"===k?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{onSubmit:R}),";",Object(h.jsx)(l.a,{position:"top-center",autoClose:3e3})]}):"pending"===k?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{onSubmit:R}),Object(h.jsx)(_,{hits:f,onOpen:D}),Object(h.jsx)(b.a,{type:"ThreeDots",color:"#393d53",height:80,width:80})]}):"rejected"===k?Object(h.jsx)("h1",{children:v.message}):"resolved"===k?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(O,{onSubmit:R}),Object(h.jsx)(_,{hits:f,onOpen:D}),L&&Object(h.jsx)(N,{image:U,onClose:function(){return B(!1)}}),f.length>0&&Object(h.jsx)(y,{onClick:function(){j((function(e){return e+1}))}})]}):void 0}var G=n(16),F=n.n(G);n(44);o.a.render(Object(h.jsx)(c.a.StrictMode,{children:Object(h.jsx)(E,{className:F.a.App})}),document.getElementById("root"))},5:function(e,t,n){e.exports={Searchbar:"Searchbar_Searchbar__aFDki",SearchForm:"Searchbar_SearchForm__1CEpi",button:"Searchbar_button__y-6Qm",label:"Searchbar_label__3E56A",input:"Searchbar_input__x7Isz"}}},[[45,1,2]]]);
//# sourceMappingURL=main.5cd60f82.chunk.js.map